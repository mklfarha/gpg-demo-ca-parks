{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PopupsWrapper = void 0;\nvar React = require(\"react\");\nvar SinglePopupLifeCycle = /** @class */function (_super) {\n  __extends(SinglePopupLifeCycle, _super);\n  function SinglePopupLifeCycle() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      isOpen: false\n    };\n    return _this;\n  }\n  SinglePopupLifeCycle.prototype.componentDidMount = function () {\n    if (this.props.isOpen === true) {\n      this.setState({\n        isOpen: true\n      });\n    }\n  };\n  SinglePopupLifeCycle.getDerivedStateFromProps = function (nextProps, prevState) {\n    if (nextProps.isOpen === false) {\n      return {\n        isOpen: false\n      };\n    }\n    return null;\n  };\n  SinglePopupLifeCycle.prototype.render = function () {\n    var _a = this.props,\n      currentPopup = _a.currentPopup,\n      onClose = _a.onClose;\n    return React.createElement(currentPopup.ComponentClass, __assign({\n      isOpen: this.state.isOpen\n    }, currentPopup.props, {\n      onClose: function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          params[_i] = arguments[_i];\n        }\n        return onClose(params);\n      }\n    }));\n  };\n  return SinglePopupLifeCycle;\n}(React.Component);\nvar PopupsWrapper = /** @class */function (_super) {\n  __extends(PopupsWrapper, _super);\n  function PopupsWrapper() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PopupsWrapper.prototype.componentDidMount = function () {\n    var _this = this;\n    this.props.popupManager.subscribeOnPopupsChange(function () {\n      return _this.forceUpdate();\n    });\n  };\n  PopupsWrapper.prototype.onClose = function (currentPopup, params) {\n    var _a;\n    this.props.popupManager.close(currentPopup.guid);\n    currentPopup.props && currentPopup.props.onClose && (_a = currentPopup.props).onClose.apply(_a, params);\n  };\n  PopupsWrapper.prototype.render = function () {\n    var _this = this;\n    var popupManager = this.props.popupManager;\n    return popupManager.popups.map(function (currentPopup) {\n      return React.createElement(SinglePopupLifeCycle, {\n        currentPopup: currentPopup,\n        key: currentPopup.guid,\n        isOpen: currentPopup.isOpen,\n        onClose: function (params) {\n          return _this.onClose(currentPopup, params);\n        }\n      });\n    });\n  };\n  return PopupsWrapper;\n}(React.Component);\nexports.PopupsWrapper = PopupsWrapper;","map":{"version":3,"names":["React","require","SinglePopupLifeCycle","_super","__extends","_this","apply","arguments","state","isOpen","prototype","componentDidMount","props","setState","getDerivedStateFromProps","nextProps","prevState","render","_a","currentPopup","onClose","createElement","ComponentClass","__assign","params","_i","length","Component","PopupsWrapper","popupManager","subscribeOnPopupsChange","forceUpdate","close","guid","popups","map","key","exports"],"sources":["../../src/PopupsWrapper.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}